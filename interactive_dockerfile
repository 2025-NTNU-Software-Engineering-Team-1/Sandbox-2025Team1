# Interactive mode image (C/C++ + Python + sandbox_interactive only)

FROM ubuntu:22.04

LABEL org.opencontainers.image.authors="Normal-OJ Maintainers <admin@noj.tw>"

# update
RUN apt-get update -y && \
    apt-get install -y --no-install-recommends libseccomp-dev g++ gcc make python3 ca-certificates && \
    rm -rf /var/lib/apt/lists/*

# sandbox user with uid:1450
RUN useradd sandbox -u 1450

# result folder
RUN mkdir /result

# sandbox binaries
COPY sandbox_interactive /usr/bin/sandbox_interactive
COPY .config/interactive.json /app/.config/interactive.json
